import{j as e,d as O,e as p,b as i}from"./heroui-B77s-cnd.js";import{u as I,a as z,O as V}from"./index-B5cD5usn.js";import{F as R,f as k,a as D,b as M}from"./index.es-F6cy_3TQ.js";import{S as g,s as d,P as l,a as w}from"./players-BTzCtm4c.js";import{L as q,T as B}from"./theme-switcher-Da5TEPtv.js";function P({title:r,active:o,icon:c,...m}){return e.jsx(O,{className:p("justify-start text-[12pt] space-x-3 py-[1.5rem]"),variant:o?"solid":"light",color:o?"primary":"default",startContent:e.jsx(R,{icon:c}),...m,children:e.jsx("div",{className:"flex font-bold",children:r})})}function H(){const r=I(),{location:o}=z(),{sidebarOpen:c,setSidebarOpen:m}=i.useContext(g),b=S=>{r({to:S}),window.matchMedia("(min-width: 1024px)").matches||m(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:p("flex lg:hidden fixed h-screen w-screen bg-black opacity-50 z-40",!c&&"hidden")}),e.jsx("div",{className:p("flex flex-col absolute lg:static z-40 h-[calc(100dvh-4rem)] lg:h-auto ml-[-18rem] min-w-[18rem] bg-content1 border-r border-divider duration-300",c&&"ml-0"),children:e.jsxs("div",{className:"flex flex-col p-[1rem] space-y-3",children:[e.jsx(P,{title:"Access controls",active:o.pathname==="/dashboard/access-controls",onPress:()=>b("/dashboard"),icon:k}),e.jsx(P,{title:"Settings",active:o.pathname==="/dashboard/settings",onPress:()=>b("/dashboard/settings"),icon:D})]})})]})}function J(){const{sidebarOpen:r,setSidebarOpen:o}=i.useContext(g);return e.jsxs("div",{className:"flex h-[4rem] bg-content1 border-b border-divider justify-between items-center px-[1rem]",children:[e.jsxs("div",{className:"flex items-center gap-[1rem]",children:[e.jsx(O,{isIconOnly:!0,variant:"bordered",className:"bg-background border border-divider",onPress:()=>o(!r),children:e.jsx(R,{icon:M,className:p("duration-300",r&&"rotate-180")})}),e.jsx("img",{src:q,alt:"logo",className:"h-[2.3rem]"}),e.jsx("div",{className:"hidden sm:flex font-bold text-[15pt] font-['Fugaz_One']",children:"Game Theory Solver"})]}),e.jsx("div",{className:"flex",children:e.jsx(B,{})})]})}function K({children:r}){const[o,c]=i.useState(d.sidebarOpen),[m,b]=i.useState(d.player1Name),[S,T]=i.useState(d.player2Name),[h,j]=i.useState(d.player1Strategies),[v,y]=i.useState(d.player2Strategies),[N,f]=i.useState(d.gainsTable),G=(t,s)=>{t===l.PLAYER_1?(j([...h,new w(s)]),Y()):t===l.PLAYER_2&&(y([...v,new w(s)]),L())},A=(t,s,n)=>{if(t===l.PLAYER_1){const a=[...h];for(const x of a)x.id===s&&(x.name=n);j(a)}else if(t===l.PLAYER_2){const a=[...v];for(const x of a)x.id===s&&(x.name=n);y(a)}},C=(t,s)=>{t===l.PLAYER_1?j([...h].filter((n,a)=>n.id!==s?!0:(F(a),!1))):t===l.PLAYER_2&&y([...v].filter((n,a)=>n.id!==s?!0:(_(a),!1)))},u=()=>N.map(t=>t.map(s=>[s[0],s[1]])),E=(t,s,n)=>{const a=u();a[t[0]][t[1]][s===l.PLAYER_1?0:1]=n,f(a)},L=()=>{const t=u();for(const s of t)s.push([0,0]);f(t)},_=t=>{const s=u();for(const n of s)n.splice(t,1);f(s)},Y=()=>{const t=u();t.push(t[0].map(()=>[0,0])),f(t)},F=t=>{const s=u();s.splice(t,1),f(s)};return e.jsx(g.Provider,{value:{sidebarOpen:o,setSidebarOpen:c,player1Name:m,setPlayer1Name:b,player2Name:S,setPlayer2Name:T,player1Strategies:h,player2Strategies:v,gainsTable:N,addStrategy:G,editStrategy:A,removeStrategy:C,setGainValue:E},children:r})}function Q(){const{sidebarOpen:r}=i.useContext(g);return e.jsxs("div",{className:"flex flex-col flex-1 bg-content2 relative overflow-x-hidden",children:[e.jsx(J,{}),e.jsxs("div",{className:"flex flex-1",children:[e.jsx(H,{}),e.jsx("div",{className:p("flex flex-1 flex-col overflow-y-auto overflow-x-hidden w-[100dvw] h-[calc(100dvh-4rem)]",r&&"lg:w-[calc(100dvw-18rem)]"),children:e.jsx(V,{})})]})]})}const ee=function(){return e.jsx(K,{children:e.jsx(Q,{})})};export{ee as component};
