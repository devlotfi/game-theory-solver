var Te=e=>{throw TypeError(e)};var de=(e,t,r)=>t.has(e)||Te("Cannot "+r);var o=(e,t,r)=>(de(e,t,"read from private field"),r?r.call(e):t.get(e)),w=(e,t,r)=>t.has(e)?Te("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),v=(e,t,r,s)=>(de(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),b=(e,t,r)=>(de(e,t,"access private method"),r);import{b as T,j as L,_ as F,s as yt}from"./heroui-DBfY3nNF.js";import{S as vt,p as Pe,r as D,s as fe,a as ne,n as gt,i as pe,b as ke,t as bt,f as wt,c as _t,d as je,e as Qe,u as Et,O as Rt}from"./index-BpsiRbgs.js";import{s as St,S as Ot}from"./solver-context-C0JcT1YN.js";import{P as xt}from"./pyodide-context-CbYnVtpa.js";var R,h,te,E,H,Y,k,I,re,Z,K,$,Q,j,J,m,ee,me,ye,ve,ge,be,we,_e,Be,$e,Ct=($e=class extends vt{constructor(t,r){super();w(this,m);w(this,R);w(this,h);w(this,te);w(this,E);w(this,H);w(this,Y);w(this,k);w(this,I);w(this,re);w(this,Z);w(this,K);w(this,$);w(this,Q);w(this,j);w(this,J,new Set);this.options=r,v(this,R,t),v(this,I,null),v(this,k,Pe()),this.options.experimental_prefetchInRender||o(this,k).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(o(this,h).addObserver(this),Ae(o(this,h),this.options)?b(this,m,ee).call(this):this.updateResult(),b(this,m,ge).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ee(o(this,h),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ee(o(this,h),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,b(this,m,be).call(this),b(this,m,we).call(this),o(this,h).removeObserver(this)}setOptions(t,r){const s=this.options,a=o(this,h);if(this.options=o(this,R).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof D(this.options.enabled,o(this,h))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");b(this,m,_e).call(this),o(this,h).setOptions(this.options),s._defaulted&&!fe(this.options,s)&&o(this,R).getQueryCache().notify({type:"observerOptionsUpdated",query:o(this,h),observer:this});const i=this.hasListeners();i&&Ne(o(this,h),a,this.options,s)&&b(this,m,ee).call(this),this.updateResult(r),i&&(o(this,h)!==a||D(this.options.enabled,o(this,h))!==D(s.enabled,o(this,h))||ne(this.options.staleTime,o(this,h))!==ne(s.staleTime,o(this,h)))&&b(this,m,me).call(this);const n=b(this,m,ye).call(this);i&&(o(this,h)!==a||D(this.options.enabled,o(this,h))!==D(s.enabled,o(this,h))||n!==o(this,j))&&b(this,m,ve).call(this,n)}getOptimisticResult(t){const r=o(this,R).getQueryCache().build(o(this,R),t),s=this.createResult(r,t);return It(this,s)&&(v(this,E,s),v(this,Y,this.options),v(this,H,o(this,h).state)),s}getCurrentResult(){return o(this,E)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){o(this,J).add(t)}getCurrentQuery(){return o(this,h)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=o(this,R).defaultQueryOptions(t),s=o(this,R).getQueryCache().build(o(this,R),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return b(this,m,ee).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),o(this,E)))}createResult(t,r){var De;const s=o(this,h),a=this.options,i=o(this,E),n=o(this,H),l=o(this,Y),d=t!==s?t.state:o(this,te),{state:p}=t;let u={...p},y=!1,g;if(r._optimisticResults){const _=this.hasListeners(),B=!_&&Ae(t,r),W=_&&Ne(t,s,r,a);(B||W)&&(u={...u,..._t(p.data,t.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:x,errorUpdatedAt:N,status:S}=u;if(r.select&&u.data!==void 0)if(i&&u.data===(n==null?void 0:n.data)&&r.select===o(this,re))g=o(this,Z);else try{v(this,re,r.select),g=r.select(u.data),g=je(i==null?void 0:i.data,g,r),v(this,Z,g),v(this,I,null)}catch(_){v(this,I,_)}else g=u.data;if(r.placeholderData!==void 0&&g===void 0&&S==="pending"){let _;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))_=i.data;else if(_=typeof r.placeholderData=="function"?r.placeholderData((De=o(this,K))==null?void 0:De.state.data,o(this,K)):r.placeholderData,r.select&&_!==void 0)try{_=r.select(_),v(this,I,null)}catch(B){v(this,I,B)}_!==void 0&&(S="success",g=je(i==null?void 0:i.data,_,r),y=!0)}o(this,I)&&(x=o(this,I),g=o(this,Z),N=Date.now(),S="error");const X=u.fetchStatus==="fetching",ce=S==="pending",ue=S==="error",Ie=ce&&X,Le=g!==void 0,C={status:S,fetchStatus:u.fetchStatus,isPending:ce,isSuccess:S==="success",isError:ue,isInitialLoading:Ie,isLoading:Ie,data:g,dataUpdatedAt:u.dataUpdatedAt,error:x,errorUpdatedAt:N,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:X,isRefetching:X&&!ce,isLoadingError:ue&&!Le,isPaused:u.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:ue&&Le,isStale:Oe(t,r),refetch:this.refetch,promise:o(this,k)};if(this.options.experimental_prefetchInRender){const _=ie=>{C.status==="error"?ie.reject(C.error):C.data!==void 0&&ie.resolve(C.data)},B=()=>{const ie=v(this,k,C.promise=Pe());_(ie)},W=o(this,k);switch(W.status){case"pending":t.queryHash===s.queryHash&&_(W);break;case"fulfilled":(C.status==="error"||C.data!==W.value)&&B();break;case"rejected":(C.status!=="error"||C.error!==W.reason)&&B();break}}return C}updateResult(t){const r=o(this,E),s=this.createResult(o(this,h),this.options);if(v(this,H,o(this,h).state),v(this,Y,this.options),o(this,H).data!==void 0&&v(this,K,o(this,h)),fe(s,r))return;v(this,E,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:n}=this.options,l=typeof n=="function"?n():n;if(l==="all"||!l&&!o(this,J).size)return!0;const c=new Set(l??o(this,J));return this.options.throwOnError&&c.add("error"),Object.keys(o(this,E)).some(d=>{const p=d;return o(this,E)[p]!==r[p]&&c.has(p)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),b(this,m,Be).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&b(this,m,ge).call(this)}},R=new WeakMap,h=new WeakMap,te=new WeakMap,E=new WeakMap,H=new WeakMap,Y=new WeakMap,k=new WeakMap,I=new WeakMap,re=new WeakMap,Z=new WeakMap,K=new WeakMap,$=new WeakMap,Q=new WeakMap,j=new WeakMap,J=new WeakMap,m=new WeakSet,ee=function(t){b(this,m,_e).call(this);let r=o(this,h).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(gt)),r},me=function(){b(this,m,be).call(this);const t=ne(this.options.staleTime,o(this,h));if(pe||o(this,E).isStale||!ke(t))return;const s=bt(o(this,E).dataUpdatedAt,t)+1;v(this,$,setTimeout(()=>{o(this,E).isStale||this.updateResult()},s))},ye=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(o(this,h)):this.options.refetchInterval)??!1},ve=function(t){b(this,m,we).call(this),v(this,j,t),!(pe||D(this.options.enabled,o(this,h))===!1||!ke(o(this,j))||o(this,j)===0)&&v(this,Q,setInterval(()=>{(this.options.refetchIntervalInBackground||wt.isFocused())&&b(this,m,ee).call(this)},o(this,j)))},ge=function(){b(this,m,me).call(this),b(this,m,ve).call(this,b(this,m,ye).call(this))},be=function(){o(this,$)&&(clearTimeout(o(this,$)),v(this,$,void 0))},we=function(){o(this,Q)&&(clearInterval(o(this,Q)),v(this,Q,void 0))},_e=function(){const t=o(this,R).getQueryCache().build(o(this,R),this.options);if(t===o(this,h))return;const r=o(this,h);v(this,h,t),v(this,te,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Be=function(t){Qe.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(o(this,E))}),o(this,R).getQueryCache().notify({query:o(this,h),type:"observerResultsUpdated"})})},$e);function Ft(e,t){return D(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ae(e,t){return Ft(e,t)||e.state.data!==void 0&&Ee(e,t,t.refetchOnMount)}function Ee(e,t,r){if(D(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Oe(e,t)}return!1}function Ne(e,t,r,s){return(e!==t||D(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Oe(e,r)}function Oe(e,t){return D(t.enabled,e)!==!1&&e.isStaleByTime(ne(t.staleTime,e))}function It(e,t){return!fe(e.getCurrentResult(),t)}var We=T.createContext(!1),Lt=()=>T.useContext(We);We.Provider;function Dt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Tt=T.createContext(Dt()),Pt=()=>T.useContext(Tt);function kt(e,t){return typeof e=="function"?e(...t):!!e}function Ue(){}var jt=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},At=e=>{T.useEffect(()=>{e.clearReset()},[e])},Nt=({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&e.data===void 0||kt(r,[e.error,s])),Ut=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Mt=(e,t)=>e.isLoading&&e.isFetching&&!t,Vt=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Me=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ht(e,t,r){var u,y,g,x,N;const s=Et(),a=Lt(),i=Pt(),n=s.defaultQueryOptions(e);(y=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||y.call(u,n),n._optimisticResults=a?"isRestoring":"optimistic",Ut(n),jt(n,i),At(i);const l=!s.getQueryCache().get(n.queryHash),[c]=T.useState(()=>new t(s,n)),d=c.getOptimisticResult(n),p=!a&&e.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(S=>{const X=p?c.subscribe(Qe.batchCalls(S)):Ue;return c.updateResult(),X},[c,p]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(n,{listeners:!1})},[n,c]),Vt(n,d))throw Me(n,c,i);if(Nt({result:d,errorResetBoundary:i,throwOnError:n.throwOnError,query:s.getQueryCache().get(n.queryHash),suspense:n.suspense}))throw d.error;if((x=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||x.call(g,n,d),n.experimental_prefetchInRender&&!pe&&Mt(d,a)){const S=l?Me(n,c,i):(N=s.getQueryCache().get(n.queryHash))==null?void 0:N.promise;S==null||S.catch(Ue).finally(()=>{c.updateResult()})}return n.notifyOnChangeProps?d:c.trackResult(d)}function $t(e,t){return Ht(e,Ct)}function Qt({children:e}){const[t,r]=T.useState(St.solverState);return L.jsx(Ot.Provider,{value:{solverState:t,setSolverState:r},children:e})}var Bt=Object.defineProperty,f=(e,t)=>Bt(e,"name",{value:t,configurable:!0}),ze=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});function qe(e){return!isNaN(parseFloat(e))&&isFinite(e)}f(qe,"_isNumber");function A(e){return e.charAt(0).toUpperCase()+e.substring(1)}f(A,"_capitalize");function le(e){return function(){return this[e]}}f(le,"_getter");var z=["isConstructor","isEval","isNative","isToplevel"],q=["columnNumber","lineNumber"],G=["fileName","functionName","source"],Wt=["args"],zt=["evalOrigin"],se=z.concat(q,G,Wt,zt);function O(e){if(e)for(var t=0;t<se.length;t++)e[se[t]]!==void 0&&this["set"+A(se[t])](e[se[t]])}f(O,"StackFrame");O.prototype={getArgs:function(){return this.args},setArgs:function(e){if(Object.prototype.toString.call(e)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof O)this.evalOrigin=e;else if(e instanceof Object)this.evalOrigin=new O(e);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",s=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:s?s+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}};O.fromString=f(function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),s=e.substring(0,t),a=e.substring(t+1,r).split(","),i=e.substring(r+1);if(i.indexOf("@")===0)var n=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),l=n[1],c=n[2],d=n[3];return new O({functionName:s,args:a||void 0,fileName:l,lineNumber:c||void 0,columnNumber:d||void 0})},"StackFrame$$fromString");for(U=0;U<z.length;U++)O.prototype["get"+A(z[U])]=le(z[U]),O.prototype["set"+A(z[U])]=function(e){return function(t){this[e]=!!t}}(z[U]);var U;for(M=0;M<q.length;M++)O.prototype["get"+A(q[M])]=le(q[M]),O.prototype["set"+A(q[M])]=function(e){return function(t){if(!qe(t))throw new TypeError(e+" must be a Number");this[e]=Number(t)}}(q[M]);var M;for(V=0;V<G.length;V++)O.prototype["get"+A(G[V])]=le(G[V]),O.prototype["set"+A(G[V])]=function(e){return function(t){this[e]=String(t)}}(G[V]);var V,he=O;function Ge(){var e=/^\s*at .*(\S+:\d+|\(native\))/m,t=/^(eval@)?(\[native code])?$/;return{parse:f(function(r){if(r.stack&&r.stack.match(e))return this.parseV8OrIE(r);if(r.stack)return this.parseFFOrSafari(r);throw new Error("Cannot parse given Error object")},"ErrorStackParser$$parse"),extractLocation:f(function(r){if(r.indexOf(":")===-1)return[r];var s=/(.+?)(?::(\d+))?(?::(\d+))?$/,a=s.exec(r.replace(/[()]/g,""));return[a[1],a[2]||void 0,a[3]||void 0]},"ErrorStackParser$$extractLocation"),parseV8OrIE:f(function(r){var s=r.stack.split(`
`).filter(function(a){return!!a.match(e)},this);return s.map(function(a){a.indexOf("(eval ")>-1&&(a=a.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var i=a.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),n=i.match(/ (\(.+\)$)/);i=n?i.replace(n[0],""):i;var l=this.extractLocation(n?n[1]:i),c=n&&i||void 0,d=["eval","<anonymous>"].indexOf(l[0])>-1?void 0:l[0];return new he({functionName:c,fileName:d,lineNumber:l[1],columnNumber:l[2],source:a})},this)},"ErrorStackParser$$parseV8OrIE"),parseFFOrSafari:f(function(r){var s=r.stack.split(`
`).filter(function(a){return!a.match(t)},this);return s.map(function(a){if(a.indexOf(" > eval")>-1&&(a=a.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),a.indexOf("@")===-1&&a.indexOf(":")===-1)return new he({functionName:a});var i=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=a.match(i),l=n&&n[1]?n[1]:void 0,c=this.extractLocation(a.replace(i,""));return new he({functionName:l,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:a})},this)},"ErrorStackParser$$parseFFOrSafari")}}f(Ge,"ErrorStackParser");var qt=new Ge,Gt=qt,P=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&!process.browser,Ye=P&&typeof module<"u"&&typeof module.exports<"u"&&typeof ze<"u"&&typeof __dirname<"u",Yt=P&&!Ye,Zt=typeof Deno<"u",Ze=!P&&!Zt,Kt=Ze&&typeof window=="object"&&typeof document=="object"&&typeof document.createElement=="function"&&"sessionStorage"in window&&typeof importScripts!="function",Jt=Ze&&typeof importScripts=="function"&&typeof self=="object";typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")>-1;var Ke,Re,Je,Ve,xe;async function Ce(){if(!P||(Ke=(await F(async()=>{const{default:i}=await import("./__vite-browser-external-BIHI7g3E.js");return{default:i}},[])).default,Ve=await F(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),xe=await F(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),Je=(await F(async()=>{const{default:i}=await import("./__vite-browser-external-BIHI7g3E.js");return{default:i}},[])).default,Re=await F(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),Fe=Re.sep,typeof ze<"u"))return;let e=Ve,t=await F(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await F(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await F(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a={fs:e,crypto:t,ws:r,child_process:s};globalThis.require=function(i){return a[i]}}f(Ce,"initNodeModules");function Xe(e,t){return Re.resolve(t||".",e)}f(Xe,"node_resolvePath");function et(e,t){return t===void 0&&(t=location),new URL(e,t).toString()}f(et,"browser_resolvePath");var Se;P?Se=Xe:Se=et;var Fe;P||(Fe="/");function tt(e,t){return e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?{response:fetch(e)}:{binary:xe.readFile(e).then(r=>new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}}f(tt,"node_getBinaryResponse");function rt(e,t){let r=new URL(e,location);return{response:fetch(r,t?{integrity:t}:{})}}f(rt,"browser_getBinaryResponse");var oe;P?oe=tt:oe=rt;async function it(e,t){let{response:r,binary:s}=oe(e,t);if(s)return s;let a=await r;if(!a.ok)throw new Error(`Failed to load '${e}': request failed.`);return new Uint8Array(await a.arrayBuffer())}f(it,"loadBinaryFile");var ae;if(Kt)ae=f(async e=>await import(e),"loadScript");else if(Jt)ae=f(async e=>{try{globalThis.importScripts(e)}catch(t){if(t instanceof TypeError)await import(e);else throw t}},"loadScript");else if(P)ae=st;else throw new Error("Cannot determine runtime environment");async function st(e){e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?Je.runInThisContext(await(await fetch(e)).text()):await import(Ke.pathToFileURL(e).href)}f(st,"nodeLoadScript");async function nt(e){if(P){await Ce();let t=await xe.readFile(e,{encoding:"utf8"});return JSON.parse(t)}else return await(await fetch(e)).json()}f(nt,"loadLockFile");async function at(){if(Ye)return __dirname;let e;try{throw new Error}catch(s){e=s}let t=Gt.parse(e)[0].fileName;if(P&&!t.startsWith("file://")&&(t=`file://${t}`),Yt){let s=await F(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);return(await F(async()=>{const{fileURLToPath:a}=await import("./__vite-browser-external-BIHI7g3E.js");return{fileURLToPath:a}},[])).fileURLToPath(s.dirname(t))}let r=t.lastIndexOf(Fe);if(r===-1)throw new Error("Could not extract indexURL path from pyodide module location");return t.slice(0,r)}f(at,"calculateDirname");function ot(e){let t=e.FS,r=e.FS.filesystems.MEMFS,s=e.PATH,a={DIR_MODE:16895,FILE_MODE:33279,mount:function(i){if(!i.opts.fileSystemHandle)throw new Error("opts.fileSystemHandle is required");return r.mount.apply(null,arguments)},syncfs:async(i,n,l)=>{try{let c=a.getLocalSet(i),d=await a.getRemoteSet(i),p=n?d:c,u=n?c:d;await a.reconcile(i,p,u),l(null)}catch(c){l(c)}},getLocalSet:i=>{let n=Object.create(null);function l(p){return p!=="."&&p!==".."}f(l,"isRealDir");function c(p){return u=>s.join2(p,u)}f(c,"toAbsolute");let d=t.readdir(i.mountpoint).filter(l).map(c(i.mountpoint));for(;d.length;){let p=d.pop(),u=t.stat(p);t.isDir(u.mode)&&d.push.apply(d,t.readdir(p).filter(l).map(c(p))),n[p]={timestamp:u.mtime,mode:u.mode}}return{type:"local",entries:n}},getRemoteSet:async i=>{let n=Object.create(null),l=await Xt(i.opts.fileSystemHandle);for(let[c,d]of l)c!=="."&&(n[s.join2(i.mountpoint,c)]={timestamp:d.kind==="file"?(await d.getFile()).lastModifiedDate:new Date,mode:d.kind==="file"?a.FILE_MODE:a.DIR_MODE});return{type:"remote",entries:n,handles:l}},loadLocalEntry:i=>{let n=t.lookupPath(i).node,l=t.stat(i);if(t.isDir(l.mode))return{timestamp:l.mtime,mode:l.mode};if(t.isFile(l.mode))return n.contents=r.getFileDataAsTypedArray(n),{timestamp:l.mtime,mode:l.mode,contents:n.contents};throw new Error("node type not supported")},storeLocalEntry:(i,n)=>{if(t.isDir(n.mode))t.mkdirTree(i,n.mode);else if(t.isFile(n.mode))t.writeFile(i,n.contents,{canOwn:!0});else throw new Error("node type not supported");t.chmod(i,n.mode),t.utime(i,n.timestamp,n.timestamp)},removeLocalEntry:i=>{var n=t.stat(i);t.isDir(n.mode)?t.rmdir(i):t.isFile(n.mode)&&t.unlink(i)},loadRemoteEntry:async i=>{if(i.kind==="file"){let n=await i.getFile();return{contents:new Uint8Array(await n.arrayBuffer()),mode:a.FILE_MODE,timestamp:n.lastModifiedDate}}else{if(i.kind==="directory")return{mode:a.DIR_MODE,timestamp:new Date};throw new Error("unknown kind: "+i.kind)}},storeRemoteEntry:async(i,n,l)=>{let c=i.get(s.dirname(n)),d=t.isFile(l.mode)?await c.getFileHandle(s.basename(n),{create:!0}):await c.getDirectoryHandle(s.basename(n),{create:!0});if(d.kind==="file"){let p=await d.createWritable();await p.write(l.contents),await p.close()}i.set(n,d)},removeRemoteEntry:async(i,n)=>{await i.get(s.dirname(n)).removeEntry(s.basename(n)),i.delete(n)},reconcile:async(i,n,l)=>{let c=0,d=[];Object.keys(n.entries).forEach(function(y){let g=n.entries[y],x=l.entries[y];(!x||t.isFile(g.mode)&&g.timestamp.getTime()>x.timestamp.getTime())&&(d.push(y),c++)}),d.sort();let p=[];if(Object.keys(l.entries).forEach(function(y){n.entries[y]||(p.push(y),c++)}),p.sort().reverse(),!c)return;let u=n.type==="remote"?n.handles:l.handles;for(let y of d){let g=s.normalize(y.replace(i.mountpoint,"/")).substring(1);if(l.type==="local"){let x=u.get(g),N=await a.loadRemoteEntry(x);a.storeLocalEntry(y,N)}else{let x=a.loadLocalEntry(y);await a.storeRemoteEntry(u,g,x)}}for(let y of p)if(l.type==="local")a.removeLocalEntry(y);else{let g=s.normalize(y.replace(i.mountpoint,"/")).substring(1);await a.removeRemoteEntry(u,g)}}};e.FS.filesystems.NATIVEFS_ASYNC=a}f(ot,"initializeNativeFS");var Xt=f(async e=>{let t=[];async function r(a){for await(let i of a.values())t.push(i),i.kind==="directory"&&await r(i)}f(r,"collect"),await r(e);let s=new Map;s.set(".",e);for(let a of t){let i=(await e.resolve(a)).join("/");s.set(i,a)}return s},"getFsHandles");function lt(e){let t={noImageDecoding:!0,noAudioDecoding:!0,noWasmDecoding:!1,preRun:ft(e),quit(r,s){throw t.exited={status:r,toThrow:s},s},print:e.stdout,printErr:e.stderr,arguments:e.args,API:{config:e},locateFile:r=>e.indexURL+r,instantiateWasm:pt(e.indexURL)};return t}f(lt,"createSettings");function ct(e){return function(t){let r="/";try{t.FS.mkdirTree(e)}catch(s){console.error(`Error occurred while making a home directory '${e}':`),console.error(s),console.error(`Using '${r}' for a home directory instead`),e=r}t.FS.chdir(e)}}f(ct,"createHomeDirectory");function ut(e){return function(t){Object.assign(t.ENV,e)}}f(ut,"setEnvironment");function dt(e){return t=>{for(let r of e)t.FS.mkdirTree(r),t.FS.mount(t.FS.filesystems.NODEFS,{root:r},r)}}f(dt,"mountLocalDirectories");function ht(e){let t=it(e);return r=>{let s=r._py_version_major(),a=r._py_version_minor();r.FS.mkdirTree("/lib"),r.FS.mkdirTree(`/lib/python${s}.${a}/site-packages`),r.addRunDependency("install-stdlib"),t.then(i=>{r.FS.writeFile(`/lib/python${s}${a}.zip`,i)}).catch(i=>{console.error("Error occurred while installing the standard library:"),console.error(i)}).finally(()=>{r.removeRunDependency("install-stdlib")})}}f(ht,"installStdlib");function ft(e){let t;return e.stdLibURL!=null?t=e.stdLibURL:t=e.indexURL+"python_stdlib.zip",[ht(t),ct(e.env.HOME),ut(e.env),dt(e._node_mounts),ot]}f(ft,"getFileSystemInitializationFuncs");function pt(e){if(typeof WasmOffsetConverter<"u")return;let{binary:t,response:r}=oe(e+"pyodide.asm.wasm");return function(s,a){return async function(){try{let i;r?i=await WebAssembly.instantiateStreaming(r,s):i=await WebAssembly.instantiate(await t,s);let{instance:n,module:l}=i;a(n,l)}catch(i){console.warn("wasm instantiation failed!"),console.warn(i)}}(),{}}}f(pt,"getInstantiateWasmFunc");var He="0.27.3";async function mt(e={}){var t,r;await Ce();let s=e.indexURL||await at();s=Se(s),s.endsWith("/")||(s+="/"),e.indexURL=s;let a={fullStdLib:!1,jsglobals:globalThis,stdin:globalThis.prompt?globalThis.prompt:void 0,lockFileURL:s+"pyodide-lock.json",args:[],_node_mounts:[],env:{},packageCacheDir:s,packages:[],enableRunUntilComplete:!1,checkAPIVersion:!0,BUILD_ID:"285ab4f913dd7f9216f3d9f225a9425b58b1c1cf058302946162bb3873fa1e70"},i=Object.assign(a,e);(t=i.env).HOME??(t.HOME="/home/pyodide"),(r=i.env).PYTHONINSPECT??(r.PYTHONINSPECT="1");let n=lt(i),l=n.API;if(l.lockFilePromise=nt(i.lockFileURL),typeof _createPyodideModule!="function"){let y=`${i.indexURL}pyodide.asm.js`;await ae(y)}let c;if(e._loadSnapshot){let y=await e._loadSnapshot;ArrayBuffer.isView(y)?c=y:c=new Uint8Array(y),n.noInitialRun=!0,n.INITIAL_MEMORY=c.length}let d=await _createPyodideModule(n);if(n.exited)throw n.exited.toThrow;if(e.pyproxyToStringRepr&&l.setPyProxyToStringMethod(!0),l.version!==He&&i.checkAPIVersion)throw new Error(`Pyodide version does not match: '${He}' <==> '${l.version}'. If you updated the Pyodide version, make sure you also updated the 'indexURL' parameter passed to loadPyodide.`);d.locateFile=y=>{throw new Error("Didn't expect to load any more file_packager files!")};let p;c&&(p=l.restoreSnapshot(c));let u=l.finalizeBootstrap(p,e._snapshotDeserializer);return l.sys.path.insert(0,l.config.env.HOME),u.version.includes("dev")||l.setCdnUrl(`https://cdn.jsdelivr.net/pyodide/v${u.version}/full/`),l._pyodide.set_excepthook(),await l.packageIndexReady,l.initializeStreams(i.stdin,i.stdout,i.stderr),u}f(mt,"loadPyodide");const er="data:image/svg+xml,%3csvg%20width='112'%20height='113'%20viewBox='0%200%20112%20113'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M54.9176%200.0048942C50.3336%200.0261942%2045.9566%200.417095%2042.1076%201.09889C30.7576%203.10389%2028.6976%207.29889%2028.6976%2015.0389V25.2589H55.5076V28.6649H28.6976H18.6376C10.8456%2028.6649%204.0176%2033.3489%201.8876%2042.2549C-0.574404%2052.4649%20-0.683404%2058.8449%201.8876%2069.5049C3.7936%2077.4429%208.3456%2083.0949%2016.1376%2083.0949H25.3566V70.8449C25.3566%2061.9949%2033.0136%2054.1849%2042.1066%2054.1849H68.8866C76.3416%2054.1849%2082.2966%2048.0469%2082.2966%2040.5649V15.0349C82.2966%207.76889%2076.1666%202.31489%2068.8866%201.09489C64.2806%200.328194%2059.5016%20-0.0201055%2054.9166%200.000894488L54.9176%200.0048942ZM40.4176%208.22389C43.1876%208.22389%2045.4486%2010.5229%2045.4486%2013.3489C45.4486%2016.1649%2043.1866%2018.4429%2040.4176%2018.4429C37.6386%2018.4429%2035.3866%2016.1659%2035.3866%2013.3489C35.3866%2010.5229%2037.6386%208.22389%2040.4176%208.22389Z'%20fill='url(%23paint0_linear_56_24)'/%3e%3cpath%20d='M85.6378%2028.6567V40.5667C85.6378%2049.7977%2077.8118%2057.5667%2068.8878%2057.5667H42.1078C34.7718%2057.5667%2028.6978%2063.8447%2028.6978%2071.1867V96.7167C28.6978%20103.983%2035.0168%20108.257%2042.1078%20110.337C50.5948%20112.833%2058.7378%20113.284%2068.8878%20110.337C75.6378%20108.383%2082.2978%20104.449%2082.2978%2096.7167V86.4967H55.5178V83.0907H82.2978H95.7078C103.5%2083.0907%20106.408%2077.6557%20109.118%2069.5007C111.917%2061.1017%20111.798%2053.0207%20109.118%2042.2507C107.192%2034.4937%20103.514%2028.6607%2095.7078%2028.6607H85.6478L85.6378%2028.6567ZM70.5778%2093.3167C73.3568%2093.3167%2075.6087%2095.5937%2075.6087%2098.4107C75.6087%20101.237%2073.3568%20103.536%2070.5778%20103.536C67.8078%20103.536%2065.5468%20101.237%2065.5468%2098.4107C65.5468%2095.5947%2067.8088%2093.3167%2070.5778%2093.3167Z'%20fill='url(%23paint1_linear_56_24)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_56_24'%20x1='-0.00177877'%20y1='0.00269452'%20x2='61.8457'%20y2='52.6861'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%235A9FD4'/%3e%3cstop%20offset='1'%20stop-color='%23306998'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_56_24'%20x1='69.9453'%20y1='97.5849'%20x2='47.7224'%20y2='66.4921'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FFD43B'/%3e%3cstop%20offset='1'%20stop-color='%23FFE873'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";function tr({children:e}){const{data:t,isLoading:r,isError:s}=$t({queryKey:["PYODIDE"],queryFn:async()=>{const i=await(await fetch("main.py")).text(),n=await mt();return await n.runPythonAsync(i),n},refetchOnWindowFocus:!1});return r?L.jsxs("div",{className:"flex flex-1 flex-col gap-[1rem] justify-center items-center bg-content1",children:[L.jsx("img",{src:er,alt:"python",className:"h-[3.8rem]"}),L.jsx("div",{className:"flex mb-[2rem] text-[15pt] text-center",children:"Loading python interpreter..."}),L.jsx(yt,{color:"primary",size:"lg"})]}):s?L.jsx("div",{className:"flex",children:"An error occured"}):L.jsx(xt.Provider,{value:{pyodide:t},children:e})}const lr=function(){return L.jsx(tr,{children:L.jsx(Qt,{children:L.jsx(Rt,{})})})};export{lr as component};
