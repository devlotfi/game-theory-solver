import{b as o,j as t,d as x,e as _}from"./heroui-Bd7WqkuL.js";import{O as Y}from"./index-Cp_d_G6A.js";import{S as p,s as i,P as l,a as S}from"./players-CQb5HKK8.js";import{L as F,T as z}from"./theme-switcher-0hYRsudr.js";import{F as I,f as V}from"./index-DmELRcdE.js";function k(){const{sidebarOpen:r}=o.useContext(p);return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:x("flex lg:hidden fixed h-screen w-screen bg-black opacity-50 z-40",!r&&"hidden")}),t.jsx("div",{className:x("flex flex-col absolute lg:static z-40 h-[calc(100dvh-4rem)] lg:h-auto ml-[-18rem] min-w-[18rem] bg-content1 border-r border-divider duration-300",r&&"ml-0"),children:t.jsx("div",{className:"flex flex-col p-[1rem] space-y-3"})})]})}function D(){const{sidebarOpen:r,setSidebarOpen:b}=o.useContext(p);return t.jsxs("div",{className:"flex h-[4rem] bg-content1 border-b border-divider justify-between items-center px-[1rem]",children:[t.jsxs("div",{className:"flex items-center gap-[1rem]",children:[t.jsx(_,{isIconOnly:!0,variant:"bordered",className:"bg-background border border-divider",onPress:()=>b(!r),children:t.jsx(I,{icon:V,className:x("duration-300",r&&"rotate-180")})}),t.jsx("img",{src:F,alt:"logo",className:"h-[2.3rem]"}),t.jsx("div",{className:"hidden sm:flex font-bold text-[15pt] font-['Fugaz_One']",children:"Game Theory Solver"})]}),t.jsx("div",{className:"flex",children:t.jsx(z,{})})]})}function q({children:r}){const[b,j]=o.useState(i.sidebarOpen),[y,N]=o.useState(i.player1Name),[w,P]=o.useState(i.player2Name),[f,v]=o.useState(i.player1Strategies),[u,g]=o.useState(i.player2Strategies),[h,c]=o.useState(i.gainsTable),R=(e,s)=>{e===l.PLAYER_1?(v([...f,new S(s)]),E()):e===l.PLAYER_2&&(g([...u,new S(s)]),A())},T=(e,s,n)=>{if(e===l.PLAYER_1){const a=[...f];for(const m of a)m.id===s&&(m.name=n);v(a)}else if(e===l.PLAYER_2){const a=[...u];for(const m of a)m.id===s&&(m.name=n);g(a)}},O=(e,s)=>{e===l.PLAYER_1?v([...f].filter((n,a)=>n.id!==s?!0:(L(a),!1))):e===l.PLAYER_2&&g([...u].filter((n,a)=>n.id!==s?!0:(C(a),!1)))},d=()=>h.map(e=>e.map(s=>[s[0],s[1]])),G=(e,s,n)=>{const a=d();a[e[0]][e[1]][s===l.PLAYER_1?0:1]=n,c(a)},A=()=>{const e=d();for(const s of e)s.push([0,0]);c(e)},C=e=>{const s=d();for(const n of s)n.splice(e,1);c(s)},E=()=>{const e=d();e.push(e[0].map(()=>[0,0])),c(e)},L=e=>{const s=d();s.splice(e,1),c(s)};return t.jsx(p.Provider,{value:{sidebarOpen:b,setSidebarOpen:j,player1Name:y,setPlayer1Name:N,player2Name:w,setPlayer2Name:P,player1Strategies:f,player2Strategies:u,gainsTable:h,addStrategy:R,editStrategy:T,removeStrategy:O,setGainValue:G},children:r})}function B(){const{sidebarOpen:r}=o.useContext(p);return t.jsxs("div",{className:"flex flex-col flex-1 bg-content2 relative overflow-x-hidden",children:[t.jsx(D,{}),t.jsxs("div",{className:"flex flex-1",children:[t.jsx(k,{}),t.jsx("div",{className:x("flex flex-1 flex-col overflow-y-auto overflow-x-hidden w-[100dvw] h-[calc(100dvh-4rem)]",r&&"lg:w-[calc(100dvw-18rem)]"),children:t.jsx(Y,{})})]})]})}const U=function(){return t.jsx(q,{children:t.jsx(B,{})})};export{U as component};
